# 7장. 오류 처리

- 오류 코드보다 예외를 사용하기
  - 예외 처리 코드: 오류가 발생하면 예외를 던지는 코드 (catch문)
- try-catch-finally 문부터 작성하기
  - try 블록은 트랜잭션과 비슷하다. try 블록에서 무슨 일이 생기든 catch 블록은 프로그램 상태를 일관성 있게 유지해야 한다.
  - 예외가 발생할 코드를 짤 때에는 try-catch-finally 문으로 시작하면 try 블록에서 무슨 일이 생기든지 호출자가 기대하는 상태를 정의하기 쉬워진다.
  - try-catch 구조로 범위를 정의하고 TDD로 나머지 논리를 추가한다.
    - 먼저 강제로 예외를 일으키는 테스트 케이스를 작성한 후 테스트를 통과하는 코드를 작성한다. <br />
    그러면 자연스럽게 try 블록의 트랜잭션 범위부터 구현하게 되므로 범위 내에서 트랜잭션 본질을 유지하기 쉬워진다.
- 미확인 예외를 사용하기
  - 확인된 예외는 OCP를 위반한다. (하위 단계 코드를 변경하면 상위 단계 메서드 선언부를 전부 고쳐야 한다.)
  - 확인된 예외는 모든 함수가 최하위 함수에서 던지는 예외를 알아야 하므로 캡슐화가 깨진다.

## 확인된 예외(checked exception)

- 잘못된 코드가 아닌 잘못된 상황에서 발생하는 예외
- 파일 열기와 같이 정확한 코드로 구현했음에도, 외부 환경(파일이 없는 상황 등)에 따라 발생 가능
- 예외처리를 구현하지 않으면 컴파일 에러 발생 (컴파일 시 확인해서 확인된 예외)
- RuntimeException 이외의 예외들

## 미확인 예외(unchecked exception)

- 런타임 시 잘못 구현된 코드로 인해 발생하는 예외
- 컴파일 에러가 나지 않지만 적절한 예외처리가 없을 경우 프로그램이 강제 종료
- 컴파일 시 확인하지 않기 때문에 미확인 예외
- RuntimeException에 포함된 예외들
