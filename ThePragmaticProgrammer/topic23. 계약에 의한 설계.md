# topic 23. 계약에 의한 설계

## 계약에 의한 설계 (Design By Contact, DBC)

DBC는 단순하지만 강력한 기법으로, 프로그램의 정확성을 보장하기 위해 소프트웨어 모듈의 권리와 책임을 문서화하고 합의하는 데에 초점을 맞춘다.

### 정확한 프로그램이란?

자신이 하는 일이라고 주장하는 것보다 많지도 적지도 않게 딱 그만큼만 하는 프로그램이다. <br />
이 주장을 문서화하고 검증하는 것이 DBC의 핵심

### 게으름뱅이(lazy) 코드

- 루틴이 시작하기 전에 자신이 수용할 것은 엄격하게 확인하고, 내어줄 것에 대해서는 최소한도를 약속하는 것
- 무엇이든 수용하고 결과로는 무엇이든 다 준다고 계약되있으면, 정말 많은 코드를 작성해야 할 것이다.

### DBC 구현

DBC는 설계 기법이다. DBC를 지원하지 않는 언어에서는 계약을 단위테스트에 넣어두면 된다.

### DBC와 일찍 멈추기

- DBC를 지원하는 언어에서는 음수를 sqrt에 넘기면 오류발생
- 이는 sqrt에 음수를 전달하면 NaN이라는 값을 반환하는 자바, C, C++ 같은 여타 언어의 방식보다 더 낫다.
- 문제를 찾고 원인을 밝히기 위해서는 사고가 난 지점에서 일찍 멈추는 것이 유리하다.
