# 4부. 컴포넌트 원칙

SOLID 원칙이 벽과 방에 벽돌을 배치하는 방법을 알려준다면,<br />
컴포넌트 원칙은 빌딩에 방을 배치하는 방법을 설명해준다.


# 12장. 컴포넌트

컴포넌트는 배포 단위다. <br />
시스템의 구성 요소로 배포할 수 있는 가장 작은 단위다. <br />
자바의 jar파일, 루비의 gem파일, 닷넷의 DLL이 컴포넌트다. <br />
컴포넌트는 컴파일형 언어에서는 바이너리 파일의 결합체이다. <br />
인터프리터형 언어에서는 소스 파일의 결합체이다.


# 13장. 컴포넌트 응집도

컴포넌트 응집도와 관련된 세 가지 원칙

## REP: 재사용/릴리스 등가 원칙

**재사용 단위는 릴리스 단위와 같다**

컴포넌트를 구성하는 모든 모듈은 서로 공유하는 중요한 테마나 목적이 있어야 한다.

## CCP: 공통 폐쇄 원칙

**동일한 이유로 동일한 시점에 변경되는 클래스를 같은 컴포넌트로 묶어라. 서로 다른 시점에 다른 이유로 변경되는 클래스는 다른 컴포넌트로 분리하라.**

단일 책임 원칙의 컴포넌트 버전이다.

SRP는 단일 클래스는 변경의 이유가 여러 개 있어서는 안된다고 말하듯이,<br />
CCP는 단일 컴포넌트는 변경의 이유가 여러 개 있어서는 안된다.

개방 폐쇄 원칙과도 밀접하게 관련되어 있다. OCP의 폐쇄와 CCP의 폐쇄는 같은 뜻이다.

## CRP: 공통 재사용 원칙

**컴포넌트 사용자들을 필요하지 않는 것에 의존하게 강요하지 말라.**

인터페이스 분리 원칙의 컴포넌트 버전이다.

ISP는 사용하지 않은 메서드가 있는 클래스에 의존하지 말라고 조언한다. <br />
CRP는 사용하지 않는 클래스를 가진 컴포넌트에 의존하지 말라고 조언한다.

## 컴포넌트 응집도에 대한 균형 다이어그램

프로젝트 초반에는 CCP 위주로 하고, REP를 희생하고, 프로젝트가 진행할수록 REP 위주로 옮겨간다.


# 14장. 컴포넌트 결합

컴포넌트 사이의 관계와 관련된 세 가지 원칙

## ADP: 의존성 비순환 원칙

**컴포넌트 의존성 그래프에 순환이 있어서는 안 된다.**

### 순환 문제

- 컴포넌트 빌드 순서를 정할 수가 없다.
- 릴리즈가 어려워진다.
- 테스트가 어려워진다.

### 순환 끊기

의존성 역전 원칙을 적용한다.

### 결론

- 컴포넌트 구조는 하향식으로 설계될 수 없다. 컴포넌트는 시스템에서 가장 먼저 설계할 수 있는 대상이 아니며, 오히려 시스템이 성장하고 변경될 때 함께 진화한다.
- 컴포넌트 의존성 다이어그램은 애플리케이션의 기능을 기술하는 일과는 거의 관련이 없다. <br />
오히려 컴포넌트 의존성 다이어그램은 애플리케이션의 빌드 가능성과 유지보수성을 보여주는 지도와 같다.

## SDP: 안정된 의존성 원칙

**안정성의 방향으로(더 안정된 쪽에) 의존하라.**

- fan-in, fan-out으로 안정성 지표 측정
- 모든 컴포넌트가 안정적이어야 하는 것은 아니다
- 추상 컴포넌트 사용

## SAP: 안정된 추상화 원칙

**컴포넌트는 안정된 정도만큼만 추상화되어야 한다.**
