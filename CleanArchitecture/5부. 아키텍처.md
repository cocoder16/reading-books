# 5부. 아키텍처

# 15장. 아키텍처란?

좋은 아키텍트는 세부사항에 대한 결정을 가능한 한 오랫동안 미룰 수 있는 방향으로 정책을 설계한다.

정책은 세부 사항에 관한 어떠한 지식도 갖지 못하게 되며, 어떤 경우에도 세부사항에 의존하지 않게 된다.

## 선택 사항 열어 두기

- 개발 초기에는 데이터베이스 시스템을 선택할 필요가 없다. 고수준의 정책은 어떤 종류의 데이터베이스를 사용하는지 신경 써서는 안된다.
- 개발 초기에는 웹 서버를 선택할 필요가 없다.
- 개발 초기에는 REST를 적용할 필요가 없다.
- 개발 초기에는 의존성 주입 프레임워크를 적용할 필요가 없다.

# 16장. 독립성

좋은 아키텍처가 지원해야하는 것들

- 시스템의 유스케이스
- 시스템의 운영
- 시스템의 개발
- 시스템의 배포 (즉각적인 배포)

## 결합 분리 모드

- 소스 수준 분리 모드 (ex) 루비 Gem
- 배포 수준 분리 모드
- 서비스 수준 분리 모드 (ex) 서비스 or 마이크로 서비스

**서비스 수준 분리 모드 문제점**

- 비용이 많이 들고, 결합이 큰 단위에서 분리된다.
- 개발 시간 측면뿐 아니라 시스템 자원 측면에서도 비용이 많이 든다

좋은 아키텍처는 시스템이 모노리틱 구조로 태어나서 단일 파일로 배포되더라도, 이후에는 독립적으로 배포 가능한 단위들의 집합으로 성장하고,<br />
또 독립적인 서비스나 마이크로서비스 수준까지 성장할 수 있도록 만들어져야 한다.<br />
또한 나중에 상황이 바뀌었을때 이 진행 방향을 거꾸로 돌려 원래 형태인 모노리틱 구조로 되돌릴 수도 있어야 한다.
